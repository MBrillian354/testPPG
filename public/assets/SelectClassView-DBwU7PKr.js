import{r as c,b as g,A as x,u as p,j as s,L as f,I as m}from"./index-BclD7Oek.js";const b=()=>{const[n,r]=c.useState(),{isLoading:u,error:j,sendRequest:o,clearError:C}=g(),t=c.useContext(x).userClassIds,h=p();c.useEffect(()=>{const e=async()=>{const d="https://ppg-academic-system-9b62c1c7b604.herokuapp.com/api/classes/get-by-ids",l=JSON.stringify({classIds:t});console.log("fetching classes this teacher enrolled..."),console.log(t);try{const a=await o(d,"POST",l,{"Content-Type":"application/json"});r(a),console.log("fetching classes complete..."),console.log(a)}catch{}};console.log(t),t.length===0?r({classes:[]}):e()},[o]);let i=0;return s.jsxs("div",{children:[!n&&u&&s.jsx("div",{className:"flex justify-center mt-16",children:s.jsx(f,{size:32})}),n&&s.jsxs("div",{className:"h-dvh",children:[s.jsx("div",{className:"card-basic mt-24 mx-4 rounded-3xl justify-start items-stretch gap-2",children:s.jsxs("ul",{className:"flex flex-col gap-2 items-stretch w-full",children:[s.jsx("h2",{className:"text-lg my-2",children:"Absen Untuk Kelas:"}),n.classes.map(e=>{var l,a;if((a=(l=e==null?void 0:e.teachingGroupYearId)==null?void 0:l.academicYearId)==null?void 0:a.isActive)return i++,s.jsx("li",{onClick:()=>h(`/scan/class/${e._id}`),className:"border border-gray-300 px-6 py-3 bg-white rounded-full active:bg-gray-200",children:e.name},e._id)})]})}),i===0&&s.jsx(m,{className:"mx-4 mt-12",children:s.jsx("p",{children:"Belum terdaftar di kelas manapun!"})})]})]})};export{b as default};
