import{r as s,a as f,A as y,u as j,j as e,M as N,E as T,D as S,L as q}from"./index-b338pBx7.js";const A=()=>{const[n,l]=s.useState(!1),[o,u]=s.useState(!1),[d,M]=s.useState(!1),{isLoading:t,error:i,sendRequest:m,setError:c}=f();s.useContext(y);const p=j(),h=[{name:"name",label:"Name",placeholder:"Nama Lengkap",type:"text",required:!0},{name:"email",label:"Email",placeholder:"Email",type:"email",required:!0},{name:"nid",label:"NID",placeholder:"NID",type:"text",required:!0},{name:"phone",label:"Nomor HP Aktif",placeholder:"Nomor HP Aktif",type:"text",required:!0},{name:"position",label:"Posisi",type:"select",required:!0,options:[{label:"Guru",value:"teacher"},{label:"Assisten",value:"assistant"}]},{name:"dateOfBirth",label:"Tanggal Lahir",placeholder:"Tanggal Lahir",type:"text",required:!0},{name:"gender",label:"Jenis Kelamin",type:"select",required:!0,options:[{label:"Laki-laki",value:"male"},{label:"Perempuan",value:"female"}]},{name:"address",label:"Alamat",placeholder:"Alamat",type:"text",required:!0},{name:"positionStartDate",label:"Mulai Masa Tugas",placeholder:"Mulai Masa Tugas",type:"text",required:!0}],b=async a=>{const g="https://ppg-academic-system-9b62c1c7b604.herokuapp.com/api/teachers/",x=JSON.stringify({name:a.name,email:a.email,nid:a.nid,phone:a.phone,position:a.position,dateOfBirth:a.dateOfBirth,gender:a.gender,address:a.address,positionStartDate:a.positionStartDate});let r;try{r=await m(g,"POST",x,{"Content-Type":"application/json"}),u(r.message),l(!0)}catch{}};return e.jsxs("div",{className:"m-auto max-w-md mt-14 md:my-8",children:[e.jsx(N,{isOpen:n,onClose:()=>l(!1),title:"Berhasil!",footer:e.jsx(e.Fragment,{children:e.jsx("button",{onClick:()=>{l(!1),p("/settings/users/")},className:"btn-danger-outline",children:"Tutup"})}),children:o}),i&&e.jsx(T,{error:i,onClear:()=>c(null)}),e.jsx("div",{className:`pb-24 transition-opacity duration-300 ${d?"opacity-0":"opacity-100"}`,children:e.jsx(S,{title:"Tambah Tenaga Pendidik",subtitle:"Sistem Absensi Digital",fields:h,onSubmit:b,disabled:t,reset:!1,footer:!1,labels:!1,button:e.jsx("div",{className:"flex flex-col justify-stretch mt-4",children:e.jsx("button",{type:"submit",className:`button-primary ${t?"opacity-50 cursor-not-allowed":""}`,disabled:t,children:t?e.jsx(q,{children:"Processing..."}):"Tambah"})})})})]})};export{A as default};
