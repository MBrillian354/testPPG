import{r as a,b as c,u as x,A as o,j as e,L as p}from"./index-Baf2cdGO.js";import{S as u}from"./StudentInitial-Cz8IaymN.js";import{W as h}from"./WarningCard-C52qWoy9.js";const y=()=>{const[r,n]=a.useState();a.useState(""),a.useState({title:"",message:"",onConfirm:null}),a.useState(!1);const{isLoading:m,sendRequest:i}=c();a.useState(!1),a.useState(null);const d=x(),s=a.useContext(o);return a.useEffect(()=>{const t=s.userRole==="admin"?"https://ppg-academic-system-9b62c1c7b604.herokuapp.com/api/students":`https://ppg-academic-system-9b62c1c7b604.herokuapp.com/api/students/teaching-group/${s.userTeachingGroupId}`;(async()=>{try{const l=await i(t);n(l.students)}catch{}})()},[i]),e.jsx("div",{className:"min-h-screen px-4 py-8 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex flex-col justify-between items-stretch gap-2 mb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Daftar Peserta Didik"}),e.jsx(h,{className:"items-center justify-start",warning:"Penambahan Peserta Didik Baru Supaya Menghubungi Daerah!",onClear:()=>setError(null)})]}),m&&e.jsx("div",{className:"flex justify-center mt-16",children:e.jsx(p,{size:32})}),r&&e.jsx("div",{className:"bg-white shadow-sm rounded-md overflow-auto text-nowrap mb-24 ",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:" border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"NIS"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),s.userRole==="admin"&&e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Desa"}),s.userRole==="admin"&&e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kelompok"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Profile"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[r.map(t=>e.jsxs("tr",{onClick:()=>d(`/dashboard/students/${t._id}`),className:"hover:bg-gray-50 hover:cursor-pointer transition",children:[e.jsx("td",{className:"pl-4 md:pl-8 p-2",children:t.image?e.jsx("img",{src:t!=null&&t.image?`https://ppg-academic-system-9b62c1c7b604.herokuapp.com/api/${t.image}`:"https://upload.wikimedia.org/wikipedia/commons/7/7c/Profile_avatar_placeholder_large.png?20150327203541",alt:t.name,className:"size-10 rounded-full m-auto shrink-0"}):e.jsx(u,{studentName:t.name,clsName:"size-10 rounded-full bg-blue-200 text-blue-500 flex items-center justify-center font-medium m-auto"})}),e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-900",children:t.nis}),e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-900",children:t.name}),s.userRole==="admin"&&e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-500",children:t.userId.teachingGroupId.branchId.name}),s.userRole==="admin"&&e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-500",children:t.userId.teachingGroupId.name}),e.jsx("td",{className:`p-2 md:p-4 text-sm text-gray-900 ${t.isProfileComplete?"text-green-500":"text-red-500 hover:underline cursor-pointer"}`,children:t.isProfileComplete?"Lengkap":"Lengkapi"})]},t._id)),r.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"p-4 text-center italic text-gray-500",children:"Tidak ada data"})})]})]})})]})})};export{y as default};
