import{r as o,A as h,u as g,j as s,L as m}from"./index-CBFEDf3H.js";import{u as x}from"./http-hook-p1xhn-Qx.js";import{I as f}from"./InfoCard-CftPNzxO.js";const k=()=>{const[n,r]=o.useState(),{isLoading:u,error:j,sendRequest:i,clearError:C}=x(),t=o.useContext(h).userClassIds,p=g();o.useEffect(()=>{const e=async()=>{const d="https://ppg-academic-system-9b62c1c7b604.herokuapp.com/api/classes/get-by-ids",c=JSON.stringify({classIds:t});console.log("fetching classes this teacher enrolled..."),console.log(t);try{const a=await i(d,"POST",c,{"Content-Type":"application/json"});r(a),console.log("fetching classes complete..."),console.log(a)}catch{}};console.log(t),t.length===0?r({classes:[]}):e()},[i]);let l=0;return s.jsxs("div",{children:[!n&&u&&s.jsx("div",{className:"flex justify-center mt-16",children:s.jsx(m,{size:32})}),n&&s.jsxs("div",{className:"h-dvh",children:[s.jsxs("ul",{className:"mt-12 p-4 space-y-2",children:[s.jsx("h2",{className:"text-lg",children:"Absen Untuk Kelas:"}),n.classes.map(e=>{var c,a;if((a=(c=e==null?void 0:e.teachingGroupYearId)==null?void 0:c.academicYearId)==null?void 0:a.isActive)return l++,s.jsx("li",{onClick:()=>p(`/scan/class/${e._id}`),className:"border px-6 py-4 bg-white rounded-full active:ring-2 active:ring-blue-200 focus:bg-blue-200",children:e.name},e._id)})]}),l===0&&s.jsx(f,{className:"mx-4 mt-12",children:s.jsx("p",{children:"Belum terdaftar di kelas manapun!"})})]})]})};export{k as default};
