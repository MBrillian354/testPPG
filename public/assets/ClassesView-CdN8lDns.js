import{r as c,u as p,A as h,j as e,L as u}from"./index-CUVeWTx6.js";import{u as g}from"./http-hook-BiPXVO_k.js";const y=()=>{const[a,i]=c.useState(),{isLoading:l,error:f,sendRequest:n}=g(),x=p(),r=c.useContext(h);console.log(r.userTeachingGroupId),c.useEffect(()=>{const t=r.userRole==="admin"?"http://192.168.1.13:5000/api/classes":`http://192.168.1.13:5000/api/classes/teaching-group/${r.userTeachingGroupId}`;(async()=>{console.log(t);try{const s=await n(t);i(s.classes),console.log(JSON.stringify(s.classes))}catch{}})()},[n]);const m=t=>{const d=t.attendances,s=new Set;return d.forEach(o=>{s.add(o.forDate)}),s.size};return e.jsx("div",{className:"min-h-screen px-4 py-8 md:p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("div",{className:"flex justify-between items-center mb-6",children:e.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Daftar Kelas"})}),l&&e.jsx("div",{className:"flex justify-center mt-16",children:e.jsx(u,{size:32})}),a&&e.jsx("div",{className:"bg-white shadow-sm rounded-md overflow-auto text-nowrap",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:" border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Waktu Mulai"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Guru"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Siswa"}),e.jsx("th",{className:"p-2 md:p-4 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pertemuan"})]})}),e.jsxs("tbody",{className:"divide-y divide-gray-200",children:[a.map(t=>e.jsxs("tr",{onClick:()=>x(`/dashboard/classes/${t._id}`),className:"hover:bg-gray-50 hover:cursor-pointer transition",children:[e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-900",children:t.name}),e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-900",children:t.startTime}),e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-500",children:t.teachers.length}),e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-500",children:t.students.length}),e.jsx("td",{className:"p-2 md:p-4 text-sm text-gray-900",children:m(t)})]},t._id)),a.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"p-4 text-center italic text-gray-500",children:"Tidak ada data"})})]})]})})]})})};export{y as default};
